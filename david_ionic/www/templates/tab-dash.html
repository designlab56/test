<ion-view view-title="Todo List">


  <ion-nav-buttons side="right">
    <button class="button ion-android-cart" ng-click="viewCart()" style="width:40px">
    </button>
    &nbsp;&nbsp;
    <button class="button ion-android-add" ng-click="createNewTask()" style="width:40px">
    </button>
  </ion-nav-buttons>


  <ion-content class="padding">


     <ion-list>
       <ion-item class="item-remove-animate item-avatar item-icon-right"  ng-repeat="x in tasks track by $index" type="item-text-wrap">
         <h2>{{x.label}}</h2>
         <p>{{x.amount}}</p>
         <i class="icon ion-chevron-right icon-accessory"></i>


         <ion-option-button class="button-balanced" ng-click="addToCart({{$index}})">
           Add to cart
         </ion-option-button>
         <ion-option-button class="button-positive" ng-click="editExistingTask({{$index}})">
           Edit
         </ion-option-button>
         <ion-option-button class="button-assertive" ng-click="removeTask({{$index}})">
           Delete
         </ion-option-button>
       </ion-item>
     </ion-list>



   <br/>

   <script id="templates/modal.html" type="text/ng-template">
      <ion-modal-view>
        <ion-header-bar class="bar bar-header bar-positive">
          <h1 class="title">New Task Wizard</h1>
          <button class="button button-clear button-primary" ng-click="modal.hide()">Cancel</button>
        </ion-header-bar>
        <ion-content class="padding">
          <div class="list">
            <label class="item item-input">
              <span class="input-label">Task Name</span>
              <input id="newLabelID" ng-model="newTask.label" type="text">
            </label>
            <label class="item item-input">
              <span class="input-label">Amount</span>
              <input id="newLabelAmount" ng-model="newTask.amount" type="text">
            </label>
            <button class="button button-full button-positive" ng-click="addTask(newTask)"  style="margin-top:50px;width: 100%">Create</button>
          </div>
        </ion-content>
      </ion-modal-view>
    </script>


    <script id="templates/modal_edit.html" type="text/ng-template">
       <ion-modal-view>
         <ion-header-bar class="bar bar-header bar-positive">
           <h1 class="title">Edit Task</h1>
           <button class="button button-clear button-primary" ng-click="modal_edit.hide()">Cancel</button>
         </ion-header-bar>
         <ion-content class="padding">
           <div class="list">
             <label class="item item-input">
               <span class="input-label">Task Name</span>
               <input id="editLabelID" ng-model="editLabel" type="text"/>
             </label>
             <label class="item item-input">
               <span class="input-label">Amount</span>
               <input id="editLabelAmount" ng-model="editAmount" type="text" />
             </label>



             <button class="button button-full button-positive" ng-click="editTask()"  style="margin-top:50px;width: 100%">Edit</button>
           </div>
         </ion-content>
       </ion-modal-view>
     </script>


     <script id="templates/view_cart.html" type="text/ng-template">
        <ion-modal-view>
          <ion-header-bar class="bar bar-header bar-positive">
            <h1 class="title">Cart</h1>
            <button class="button button-clear button-primary" ng-click="view_cart.hide()">Cancel</button>
          </ion-header-bar>
          <ion-content class="padding">

            <ion-list>
              <ion-item class="item-remove-animate item-avatar item-icon-right"  ng-repeat="x in cart track by $index" type="item-text-wrap">
                <h2>{{x.label}}</h2>
                <p>{{x.amount}}</p>
              </ion-item>
            </ion-list>

          </ion-content>
        </ion-modal-view>
      </script>


  </ion-content>
</ion-view>
